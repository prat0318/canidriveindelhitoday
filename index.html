<!DOCTYPE HTML>
<!-------------------------------------------/*
 *  Can i drive in Delhi, Today?
 *
 *  Copyright 2015, Prateek Agarwal
 *  https://prat0318.me
 *
 *  Licensed under the MIT license:
 *  http://www.opensource.org/licenses/MIT
 */------------------------------------------>
<html lang="en">
<head>
	<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><![endif]-->
	<meta charset="utf-8">
        <meta property="og:image" content="http://www.fullstopindia.com/wp-content/uploads/2010/04/Yellow-Commerical-Plate-of-India1.jpg"/>
	<title>Can I drive in Delhi, today? Solves odd/even problems.</title>
	<meta name="description" content="Calculates whether today is odd or even day for your car.">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="shortcut icon" href="favicon.ico">
	<link rel="stylesheet" href="styles.css">
	<link rel="stylesheet" href="fancyInput.css">
	<link rel="stylesheet" href="button.css">
	<!--[if lt IE 9]><script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
</head>
<body>
	<div id='wrap'>
		<header>
			<div class='social'></div>
                        <span class="heading" style="font-size: 33px">Can I drive in Delhi, today?</span>
                        <br>
                        <span class="heading" style="font-size: 12px">Is all the mathematics driving you intolerant? Fret not. We will tell ya.</span>
		</header>

		<div id='content'>
			<section class='input'>
				<div>
					<input type='text' placeholder='ENTER YOUR COOL LICENSE NO.. ✌' id="number">
				</div>
			</section>
		</div>
                <br><br> <br><br>
                <br><br> <br><br>
                <a href="#" class="btn-big-red" onclick="tellMe()"> TELL ME! </a>
                <br><br>
                <span class="heading" style="font-size: 15px; visibility:hidden" id="nope"></span>
                <br>
                <div style="padding-top: 30px" id="add-pic"></div>
                <a class='by' href='http://www.prat0318.me'>Prateek Agarwal @prat0318 [Note: This is not official and should not always be trusted]. (Template taken from yairEO/fancyInput)</a>
	</div>
	<script src='fancyInput.js'></script>
	<script>
                function isInt(value) {
                  return !isNaN(value) && (function(x) { return (x | 0) === x; })(parseFloat(value))
                }

                function matchRegex(str) {
                    return /^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])?(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(str);
                }

                function tellMe() {
                    document.getElementById('nope').style.visibility = 'visible';
                    var plate = document.getElementById('number').value;
                    var last = plate.slice(-1);
                    var src = 'https://media.giphy.com/media/149t2dI5M5nzvq/giphy.gif';
                    if (matchRegex(plate)) {
                        var currDate = (new Date()).getDate();
                        //document.getElementById('nope').style.visibility = 'hidden';
                        if((currDate - last)%2 == 0) {
                            var src = 'http://38.media.tumblr.com/66c025895f7121c26673dedb03b85398/tumblr_mi050pcC5g1qdvraco1_500.gif';
                        document.getElementById('nope').innerHTML = 'Ok, looks like you can. Want to <a href="#" style="color: #ccffff" onclick="init()">try more?</a>';
                        } else {
                        document.getElementById('nope').innerHTML = 'Nope, today is not your day :( Want to <a href="#" style="color: #ccffff" onclick="init()">try some random?</a>';
                        }
                    } else {
                        document.getElementById('nope').innerHTML = 'Listen, that doesn\'t look like a license number, so NOPE. Maybe <a href="#" style="color: #ccffff" onclick="init()">try this</a>.';
                    }
                    document.getElementById('add-pic').innerHTML = '<img src="' + src + '"/>';
                }
		// Capture TAB to switch between the Demo page views (input/textarea)
		(function(){
			var viewTogglers = $('menu.radio input');

			$(document).on('keydown', function(e){
				if( e.key == 'tab' || e.keyCode == 9 ){
					var $checked = viewTogglers.filter(':checked');
					var $next = viewTogglers.eq(viewTogglers.index($checked) + 1);
					if(!$next.length){
						$next = viewTogglers.first();
					}
					$next.prop("checked", true).change();

					return false;
				}
			});
		})();

		$('section :input').val('').fancyInput()[0].focus();

		// Everything below is only for the DEMO
		function init(str){
                    $('.fancyInput').children()[1].innerHTML = '<b class="caret" style="height: 65px;">​</b>';
			var input = $('section input').val('')[0],
				// s = 'ENTER YOUR COOL LICENSE NO.. ✌'.split('').reverse(),
                                num = 'DL-2C AG ' + (Math.floor(Math.random()*9000) + 1000);
				s = num.split('').reverse(),
				len = s.length-1,
				e = $.Event('keypress');
				
				input.nextElementSibling.className = '';
			
			var	initInterval = setInterval(function(){
					if( s.length ){
						var c = s.pop();
						fancyInput.writer(c, input, len-s.length).setCaret(input);
						input.value += c;
						//e.charCode = c.charCodeAt(0);
						//input.trigger(e);
						
					}
					else clearInterval(initInterval);
			},60);
		}
		
	//	init();
		
		
		// social sharing stuff
		setTimeout(addSocial,500);
		
		function addSocial(){
			// tweet button
			var tweeter = $('<a href="https://twitter.com/share" class="twitter-share-button">Tweet</a>');
			$('.social').append(tweeter);

			!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="http://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

			$('.social').addClass('show');
		};
	</script>
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
     (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-71072199-1', 'auto');
    ga('send', 'pageview');

        </script>
</body>
</html>
